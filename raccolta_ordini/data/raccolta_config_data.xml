<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- ================================= -->
        <!-- CONFIGURAZIONE DEFAULT            -->
        <!-- ================================= -->

        <!-- Configurazione di default per l'azienda principale -->
        <record id="default_raccolta_config" model="raccolta.config">
            <field name="name">Configurazione Default Raccolta</field>
            <field name="company_id" ref="base.main_company"/>
            <field name="active" eval="True"/>
            <field name="use_agent_numbering" eval="True"/>
            <field name="receipt_format">48mm</field>
            <field name="auto_create_ddt" eval="True"/>
            <field name="auto_print" eval="True"/>
        </record>

        <!-- ================================= -->
        <!-- GRUPPI SICUREZZA                  -->
        <!-- ================================= -->

        <!-- Gruppo base agenti (se non definito in security) -->
        <record id="group_raccolta_agent_data" model="res.groups">
            <field name="name">Agente Raccolta Ordini</field>
            <field name="category_id" ref="base.module_category_sales"/>
            <field name="comment">Gruppo per agenti che raccolgono ordini</field>
        </record>

        <!-- ================================= -->
        <!-- SEQUENZE BASE                     -->
        <!-- ================================= -->

        <!-- Sequenza configurazioni -->
        <record id="sequence_raccolta_config" model="ir.sequence">
            <field name="name">Configurazioni Raccolta</field>
            <field name="code">raccolta.config</field>
            <field name="prefix">CONF</field>
            <field name="padding">3</field>
            <field name="number_next">1</field>
            <field name="number_increment">1</field>
            <field name="company_id" ref="base.main_company"/>
        </record>

        <!-- Sequenza sessioni -->
        <record id="sequence_raccolta_session" model="ir.sequence">
            <field name="name">Sessioni Raccolta</field>
            <field name="code">raccolta.session</field>
            <field name="prefix">SESS</field>
            <field name="padding">4</field>
            <field name="number_next">1</field>
            <field name="number_increment">1</field>
            <field name="company_id" ref="base.main_company"/>
        </record>

        <!-- ================================= -->
        <!-- PARAMETRI SISTEMA                 -->
        <!-- ================================= -->

        <!-- Parametro: Timeout sincronizzazione -->
        <record id="param_sync_timeout" model="ir.config_parameter">
            <field name="key">raccolta.sync_timeout</field>
            <field name="value">300</field> <!-- 5 minuti -->
        </record>

        <!-- Parametro: Numero massimo tentativi sync -->
        <record id="param_max_sync_retries" model="ir.config_parameter">
            <field name="key">raccolta.max_sync_retries</field>
            <field name="value">3</field>
        </record>

        <!-- Parametro: ModalitÃ  debug -->
        <record id="param_debug_mode" model="ir.config_parameter">
            <field name="key">raccolta.debug_mode</field>
            <field name="value">False</field>
        </record>

        <!-- Parametro: Versione API -->
        <record id="param_api_version" model="ir.config_parameter">
            <field name="key">raccolta.api_version</field>
            <field name="value">1.0</field>
        </record>

        <!-- ================================= -->
        <!-- DATI DEMO MINIMAL                 -->
        <!-- ================================= -->

        <!-- Agente demo (solo in development) -->
        <record id="demo_agent_user" model="res.users">
            <field name="name">Demo Agente</field>
            <field name="login">demo.agente</field>
            <field name="email">demo.agente@example.com</field>
            <field name="is_raccolta_agent" eval="True"/>
            <field name="agent_code">DEMO</field>
            <field name="company_id" ref="base.main_company"/>
            <field name="groups_id" eval="[(4, ref('base.group_user')), (4, ref('group_raccolta_agent_data'))]"/>
        </record>

        <!-- Configurazione per agente demo -->
        <record id="demo_agent_config" model="raccolta.config">
            <field name="name">Configurazione Demo Agente</field>
            <field name="user_id" ref="demo_agent_user"/>
            <field name="company_id" ref="base.main_company"/>
            <field name="active" eval="True"/>
            <field name="use_agent_numbering" eval="True"/>
            <field name="receipt_format">48mm</field>
            <field name="auto_create_ddt" eval="True"/>
            <field name="auto_print" eval="False"/> <!-- Non stampare in demo -->
        </record>

    </data>
</odoo>